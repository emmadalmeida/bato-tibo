<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>Panier</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <h1 >Panier</h1>



    @if (panierList.length === 0) {
      <ion-text>Votre panier est vide.</ion-text>
    }

    @if (panierList.length > 0) {
      <ion-list>

      @for (item of panierList; track item.produit.id) {

        <ion-item>
          <div class="item-wrapper">
            <div class="item-name-qte-img">
              <img src="../assets/images/barRecette_icon.png" alt=""/>
              <ion-text>
                {{ item.produit.name }}
              </ion-text>
              <ion-text>
                Qté : {{ item.qte }}
              </ion-text>
            </div>
            <div class="item-prix">
              {{item.qte}}x{{item.produit.price}}€ : {{item.qte*item.produit.price}}€
            </div>

            <div class="item-btns">
              <ion-text id="confirmSupp" color="danger">Supprimer</ion-text>
              <ion-text>Modifier</ion-text>
            </div>
          </div>
        </ion-item>
      }
      </ion-list>
      <div class="footer-panier">
        <ion-text>Total : {{somme}}€ </ion-text>

        <ion-text>Lieu de livraison : </ion-text>

        <div class="date-heure">
          <ion-text>Date de livraison : </ion-text>
          <ion-datetime-button datetime="datetime"></ion-datetime-button>

          <ion-modal [keepContentsMounted]="true">
            <ng-template>
              <ion-datetime id="datetime"></ion-datetime>
            </ng-template>
          </ion-modal>
        </div>


        <ion-button expand="block">
          <ion-label>Valider la commande</ion-label>
        </ion-button>
      </div>

    }


  <ion-alert
    trigger="confirmSupp"
    header="Confirmer"
    [buttons]="alertButtons"
    (didDismiss)="setResult($event)"
  ></ion-alert>

</ion-content>
